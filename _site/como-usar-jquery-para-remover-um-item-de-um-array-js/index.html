<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Como usar jQuery para remover um item de um Array JS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="http://willianfernandes.dev/como-usar-jquery-para-remover-um-item-de-um-array-js" />

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom CSS -->
    <!-- link rel="stylesheet" href="/css/main.css" -->

    <link rel="stylesheet" href="/assets/style-9f6205fcaf8f5bdcbdd24436a41930f3.css">

    <script src="/assets/modernizr/modernizr-7d68900ffc3257f9e98710fc82e8eed0.js"></script>
  </head>
  <body>

    <div class="page container">
      <header>
        <h1 class="logo">
          <a href="/">
            <img src="/assets/logo-d925c9e0a6f24cbf5cced4a776fb4aa0.svg" alt="Willian Fernandes" width="770" height="116">
          </a>
        </h1>

        <p class="intro">
          Sou <strong>Desenvolvedor Web</strong> com foco no <em>back-end</em>,
          mas também sou apaixonado por estudar técnicas de <em>front-end</em>.
          Este é meu blog pessoal e além de escrever sobre desenvolvimento web
          em geral, utilizo este espaço para aprendizado, experimentando técnicas
          que ainda não utilizei em projetos maiores.
        </p>

        <nav class="social-medias">
          <ul>
            <li><a class="about" href="/sobre">Sobre</a></li>
            <li><a class="email" href="mailto:willian@willianfernandes.com.br">Email</a></li>
            <li><a class="github" href="https://github.com/willian">GitHub</a></li>
            <li><a class="gtalk" href="ichat:willian@willianfernandes.com.br">Gtalk</a></li>
            <li><a class="linkedin" href="http://br.linkedin.com/in/willian">LinkedIn</a></li>
            <li><a class="skype" href="skype:willianfernan">Skype</a></li>
            <li><a class="twitter" href="http://twitter.com/willian">Twitter</a></li>
            <li><a class="rss" href="/feed">Feed</a></li>
            <li><a class="rss" href="/feed">Feed</a></li>
          </ul>
        </nav>
      </header>

      <section class="content">
        <h2>Como usar jQuery para remover um item de um Array JS</h2>
<p class="meta">10 Feb 2012</p>

<div class="post">
  <p>Quem trabalha com JavaScript sabe que para remover um item de um array basta utilizar o metodo <em>splice</em>. Como o codigo abaixo:</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">frutas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;maça&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;pera&#39;</span><span class="p">,</span> <span class="s1">&#39;uva&#39;</span><span class="p">];</span>
<span class="nx">frutas</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
</code></pre></div>

<p>O codigo acima retira a <em>banana</em> do <em>array frutas</em>. Isso porque no 1º parametro do metodo <em>splice</em> informamos qual a posiçao do item no array que queremos remover. O 2º parametro indica quantos itens, contando do item que informamos, queremos remover. Sendo assim, se quisermos remover a <em>banana</em> e a <em>pera</em> basta fazer assim:</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">frutas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;maça&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;pera&#39;</span><span class="p">,</span> <span class="s1">&#39;uva&#39;</span><span class="p">];</span>
<span class="nx">frutas</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
</code></pre></div>

<p>Mas em muitos casos nao sabemos qual a posiçao do item que queremos remover e sim qual o valor do item. Uma abordagem e procurar qual a posiçao do item percorrendo o Array e comparando os valores com o valor que temos. Um tanto quanto chato, concorda?</p>

<h2>jQuery para todas as horas!</h2>

<p>Como e mais que comum termos jQuery em projetos web, realizar o trabalho acima fica facil. Pra isso precisaremos da funçao <em>$.grep</em>. Esta funçao encontra todos os elementos de um array de acordo com uma expressao. Vamos aplicar nosso exemplo removendo a fruta <em>banana</em> do nosso <em>array</em>, mas agora nao sabemos qual a posiçao que essa fruta se encontra no <em>array</em>. Nosso codigo ficara assim:</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">frutas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;maça&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;pera&#39;</span><span class="p">,</span> <span class="s1">&#39;uva&#39;</span><span class="p">];</span>
<span class="nx">frutas</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">frutas</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">val</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">val</span> <span class="o">!=</span> <span class="s1">&#39;banana&#39;</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>

<p>Com a funcao <em>$.grep</em> podemos ir muito alem. Por exemplo, ter um array com somente os elementos que forem pares:</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">numeros</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">];</span>
<span class="nx">pares</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">numeros</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">v</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// Valor do array pares: [2, 4, 6, 8]</span>
</code></pre></div>

<p>A funçao $.grep recebe 2 parametros obrigatorios: o array original e uma funçao <em>callback</em>. Esse <em>callback</em> recebe, por sua vez, 2 parametros: o valor do item atual e o indice (posiçao) desse valor no array.
Existe um terceiro parametro (nao obrigatorio) da funçao <em>$.grep</em> chamado <em>inverse</em>, que por padrao tem o valor <em>false</em>. Esse parametro inverte a condiçao dentro do <em>callback</em>, fazendo exatamente o contrario que mandamos ela fazer. Se adicionarmos o parametro <em>inverse</em> no exemplo acima, teremos:</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">numeros</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">];</span>
<span class="nx">pares</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">numeros</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">v</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">},</span> <span class="kc">true</span><span class="p">);</span> <span class="c1">// Perceba que adicionamos um novo parametro</span>

<span class="c1">// Valor do array pares: [1, 3, 5, 7]</span>
<span class="c1">// pares agora so contem os valores impares</span>
</code></pre></div>

<p>Perceba que a funçao <em>$.grep</em> <strong>nao altera o array original</strong>. Nos exemplos acima o array <em>numeros</em> continuara tendo todos os elementos.</p>

<p>Bom, e isso. Espero que agora remover itens de um array JavaScript utilizando o valor seja mais facil no seu dia-a-dia.</p>

<p><strong>[ATUALIZADO]</strong></p>

<p>Algumas pessoas se manifestaram no Twitter dizendo que isso e errado. Realmente, existe uma forma bem simples de remover um item de um Array em JavaScript sem saber a posiçao desse item e sem usar jQuery. Segue abaixo:</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">frutas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;maça&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;pera&#39;</span><span class="p">,</span> <span class="s1">&#39;uva&#39;</span><span class="p">];</span>
<span class="nx">index</span> <span class="o">=</span> <span class="nx">frutas</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;banana&#39;</span><span class="p">);</span>
<span class="nx">frutas</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</code></pre></div>

<p>Utilizamos o <em>indexOf</em> para descobrir qual a posiçao do valor que queremos remover e depois conseguiremos utilizar o <em>splice</em> normalmente.</p>

<p>Agora, sobre a parte de retornar somente os numeros pares, o <a href="http://twitter.com/fnando">Nando Vieira</a> deu uma dica boa:</p>

<div class="highlight"><pre><code class="javascript"><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">].</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">item</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>

<p><strong>OBS.:</strong> Navegadores antigos nao suportam a funçao <em>filter()</em>. Use por sua conta e risco.</p>

</div>

<div class="comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'willianfernandes'; // required: replace example with your forum shortname
    var disqus_url = "http://willianfernandes.dev/como-usar-jquery-para-remover-um-item-de-um-array-js";

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>
    Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

      </section>

      <footer>
        <p>
          <small>
            Textos escritos por mim — exceto quando informado — e com
            <a href="http://creativecommons.org/licenses/by-nc/2.5/br" rel="external">algumas restrições</a>
            de uso.
          </small>
        </p>
      </footer>
    </div>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-2426526-1', 'willianfernandes.com.br');
      ga('send', 'pageview');
    </script>

    <script src="/assets/app-c198bb608e7a9f61c24ceff7717da808.js"></script>
  </body>
</html>
